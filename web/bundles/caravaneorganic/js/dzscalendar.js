void 0==window.jQuery&&alert("dzscalendar.js -> jQuery is not defined or improperly declared ( must be included at the start of the head tag ), you need jQuery for this plugin");var settings_dzscalendar={animation_time:500,animation_easing:"swing"};function is_ie8(){return void 0==jQuery.browser.msie?!1:8<jQuery.browser.version?!1:!0}
(function(q){q.fn.dzscalendar=function(e){e=q.extend({settings_slideshowTime:"5",settings_autoHeight:"on",settings_skin:"skin-default",start_month:"",start_year:"",design_transitionDesc:"default"},e);this.each(function(){function q(){"tooltipDef"==e.design_transitionDesc&&b.find(".dzstooltip").each(function(){var d=jQuery(this);d.removeClass("currTooltip");d.animate({opacity:0,left:u+50},{queue:!1,complete:H,duration:settings_dzscalendar.animation_time,easing:settings_dzscalendar.animation_easing})})}
function C(){var d=jQuery(this);if(d.hasClass("desc-close-button"))"slide"==e.design_transitionDesc&&(f.animate({top:-i},{queue:!1,duration:settings_dzscalendar.animation_time/1.5,easing:settings_dzscalendar.animation_easing}),z.animate({top:0},{queue:!1,duration:settings_dzscalendar.animation_time/1.5,easing:settings_dzscalendar.animation_easing}),g.animate({top:0},{queue:!1,duration:settings_dzscalendar.animation_time/1.5,easing:settings_dzscalendar.animation_easing}));else if(q(),d.hasClass("openTooltip"))d.removeClass("openTooltip");
else{var I=d.attr("data-date"),D=d.parent().parent().parent().parent().parent();b.find(".openTooltip").each(function(){jQuery(this).removeClass("openTooltip")});d.addClass("openTooltip");for(c=v=0;c<m.length;c++)if(m[c].date==I){v=c;break}u=d.offset().left-D.offset().left;E=d.offset().top-D.offset().top;"tooltipDef"==e.design_transitionDesc&&(b.append('<div class="dzstooltip arrow-left currTooltip" style="left:'+(u+50)+"px; top:"+E+'px;"></div>'),d=b.children(".dzstooltip").last(),d.html(m[v].content),
d.animate({opacity:1,left:u+30},{queue:!1,duration:settings_dzscalendar.animation_time/1.5,easing:settings_dzscalendar.animation_easing}));"slide"==e.design_transitionDesc&&(b.append('<div class="currDesc slideDescription" style=""></div>'),f=b.find(".currDesc").eq(0),f.html(m[v].content),f.append('<div class="desc-close-button">x</div>'),f.css({top:-i,width:n}),f.children("div").css({width:"auto"}),f.animate({top:0},{queue:!1,duration:settings_dzscalendar.animation_time/1.5,easing:settings_dzscalendar.animation_easing}),
z.animate({top:i+20},{queue:!1,duration:settings_dzscalendar.animation_time/1.5,easing:settings_dzscalendar.animation_easing}),g.animate({top:i+20},{queue:!1,duration:settings_dzscalendar.animation_time/1.5,easing:settings_dzscalendar.animation_easing}),f.children(".desc-close-button").bind("click",C))}}function H(){"tooltipDef"==e.design_transitionDesc&&b.find(".dzstooltip").each(function(){var d=jQuery(this);!1==d.hasClass("currTooltip")&&d.remove()})}function A(d,b){var e=new Date;if(!0!=w){w=
!0;e.setYear(d);e.setMonth(b);e.setDate(1);q();var f=b+1,i=d;12==f&&(f=0,i++);var a="<tr>",r=e.getDay();for(c=e=0;c<r;c++){var a=a+'<td class="other-months-date',s=new Date(d,b,c+2);s<j&&(a+=" past-date");a+='"';a+=">";a+=(new Date(d,b,0)).getDate()-r+c+1;a+="</td>";e++}for(c=0;c<(new Date(i,f,0)).getDate();c++){a+='<td class="curr-months-date';s=new Date(d,b,c+2);s<j&&(a+=" past-date");r=b+1+"-"+(c+1)+"-"+d;for(x=0;x<m.length;x++)m[x].date==r&&(a+=" hasEvent");a+='"';a+=' data-date="'+r+'"';a+=">";
a+=c+1;a+="</td>";6==e&&(a+="</tr>",a+="<tr>",e=-1);e++}if(0<e)for(c=0;7>e;c++)a+='<td class="other-months-date',s=new Date(d,b,c+2),s<j&&(a+=" past-date"),a+='"',a+=">",a+=c+1,a+="</td>",e++;a+="</tr>";0<g.children().length?(g.children().eq(0).removeClass("argTable"),g.children().eq(0).addClass("currTable"),d>h?y=!0:d<h?y=!1:d==h&&(y=b<k?!1:!0)):w=!1;h=d;k=b;B.children(".curr-month").html(F[k]);B.children(".curr-year").html(h);g.append('<table class="argTable"><thead><tr><td>S</td><td>M</td><td>T</td><td>W</td><td>T</td><td>F</td><td>S</td></tr><tbody>'+
a+"</tbody></table>");if(1!=g.children().length&&(t=g.children(".currTable"),l=g.children(".argTable"),t.css({top:0,left:0}),!0==y?(t.animate({top:0,left:-(n+10)},{queue:!1,complete:G,duration:settings_dzscalendar.animation_time,easing:settings_dzscalendar.animation_easing}),l.css({top:0,left:n+10})):(t.animate({top:0,left:n+10},{queue:!1,complete:G,duration:settings_dzscalendar.animation_time,easing:settings_dzscalendar.animation_easing}),l.css({top:0,left:-(n+10)})),l.animate({top:0,left:0},{queue:!1,
duration:settings_dzscalendar.animation_time,easing:settings_dzscalendar.animation_easing}),!is_ie8())){for(c=l.find("tbody").find("tr").length;-1<c;c--)p=l.find("tbody").find("tr").eq(c),p.css({opacity:0}),f=3*settings_dzscalendar.animation_time/(l.find("tbody").find("tr").length-c+1),p.delay(settings_dzscalendar.animation_time/2).animate({opacity:1},{queue:!0,duration:f,easing:settings_dzscalendar.animation_easing});for(c=l.find("tbody").find("tr").length;-1<c;)break}}}function G(){t.remove();w=
!1}var b=jQuery(this);b.children();var k=0,h=0,t,f,l,w=!1,y=!1,p,n=182,i=138;parseInt(e.settings_slideshowTime);var c=0,x=0,v=0,g,z,B,m=[],j,u,E,F="January February March April May June July August September October November December".split(" ");-1==b.attr("class").indexOf("skin-")&&b.addClass(e.settings_skin);b.hasClass("skin-default")&&(e.settings_skin="skin-default");b.hasClass("skin-black")&&(e.settings_skin="skin-black",n=192,i=158);"default"==e.design_transitionDesc&&(e.design_transitionDesc=
"tooltipDef");"slide"==e.design_transitionDesc&&b.css({overflow:"hidden"});j=new Date;for(c=0;c<b.children(".events").children().length;c++)p=b.children(".events").children().eq(c),m[c]={date:p.attr("data-date"),content:p.html()};b.children(".events").remove();b.append('<div class="calendar-controls"><div class="arrow-left"></div><div class="curr-date"><span class="curr-month">'+F[j.getMonth()]+'</span><span class="curr-year">'+j.getFullYear()+'</span></div><div class="arrow-right"></div></div>');
b.append('<div class="theMonths"></div>');B=b.find(".curr-date");g=b.children(".theMonths");z=b.children(".calendar-controls");b.find(".arrow-left").click(function(){var d=k-1,b=h;-1==d&&(d=11,b--);A(b,d)});b.find(".arrow-right").click(function(){var b=k+1,c=h;12==b&&(b=0,c++);A(c,b)});b.find(".hasEvent").live("click",C);k=j.getMonth();h=j.getFullYear();""!=e.start_year&&(h=parseInt(e.start_year,10));""!=e.start_month&&(k=parseInt(e.start_month,10));A(h,k);return this})}})(jQuery);
